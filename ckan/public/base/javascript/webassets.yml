main:
  filters: rjsmin
  output: base/%(version)s_main.js
  extra:
    preload:
      - vendor/vendor
      - vendor/htmx
  contents:
    - plugins/jquery.inherit.js # used in ckan.module() method
    - plugins/jquery.proxy-all.js # recommended way to bind this to `_on*` methods of the module
    - plugins/jquery.url-helpers.js # used in jquery.slug and jquery.slug-preview plugins
    - plugins/jquery.date-helpers.js # used by client.js
    - plugins/jquery.slug.js # used by jquery.slug-preview plugin and slug-preview module
    - plugins/jquery.slug-preview.js # used by slug-preview module
    - plugins/jquery.form-warning.js # used by basic-form module
    - plugins/jquery.images-loaded.js # used by media-grid module
    - plugins/jquery.masonry.js  # used by media-grid module
    - sandbox.js
    - module.js
    - pubsub.js
    - client.js
    - i18n.js
    - notify.js # produces UI elements
    - toast.js
    - confirm.js # produces UI elements
    - main.js
    - htmx-ckan.js

ckan:
  filters: rjsmin
  output: base/%(version)s_ckan.js
  extra:
    preload:
      - vendor/bootstrap
      - base/ckan
  contents:
    - init_tooltips.js # uses bootstrap
    - modules/select-switch.js
    - modules/slug-preview.js
    - modules/basic-form.js
    - modules/confirm-action.js
    - modules/autocomplete.js
    - modules/custom-fields.js
    - modules/data-viewer.js
    - modules/table-selectable-rows.js
    - modules/resource-form.js
    - modules/resource-upload-field.js
    - modules/resource-reorder.js
    - modules/resource-view-reorder.js
    - modules/resource-view-embed.js
    - modules/resource-view-filters-form.js
    - modules/resource-view-filters.js
    - modules/table-toggle-more.js
    - modules/dataset-visibility.js
    - modules/media-grid.js
    - modules/image-upload.js
    - modules/metadata-button.js
    - modules/copy-into-buffer.js

view-filters:
  output: base/%(version)s_view-filters.js
  extra:
    preload:
      - vendor/jquery
      - vendor/qs
  contents:
    - view-filters.js
