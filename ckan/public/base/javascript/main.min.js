this.ckan=this.ckan||{};(function(ckan,jQuery){ckan.PRODUCTION='production';ckan.DEVELOPMENT='development';ckan.TESTING='testing';ckan.initialize=function(){var body=jQuery('body');var locale=jQuery('html').attr('lang');var location=window.location;var root=location.protocol+'//'+location.host;function getRootFromData(key){return(body.data(key)||root).replace(/\/$/,'');}
ckan.SITE_ROOT=getRootFromData('siteRoot');ckan.LOCALE_ROOT=getRootFromData('localeRoot');ckan.API_ROOT=body.data('apiRoot')||ckan.SITE_ROOT;ckan.sandbox().client.getLocaleData(locale).done(function(data){ckan.i18n.load(data);ckan.module.initialize();});};ckan.url=function(path,includeLocale){if(typeof path==='boolean'){includeLocale=path;path=null;}
path=(path||'').replace(/^\//,'');var root=includeLocale?ckan.LOCALE_ROOT:ckan.SITE_ROOT;return path?root+'/'+path:root;};ckan.sandbox.extend({url:ckan.url});if(ckan.ENV!==ckan.TESTING){jQuery(function(){ckan.initialize();});}})(this.ckan,this.jQuery);this.jQuery.fn.ie7redraw=function(){if(jQuery.browser.msie&&jQuery.browser.version=='7.0'){jQuery(this).css('zoom',1);}};