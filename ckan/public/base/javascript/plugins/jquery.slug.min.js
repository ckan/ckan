(function($){function onChange(event){var value=this.value;var updated=$.url.slugify(value,true);if(value!==updated){this.value=updated;$(this).trigger('slugify',[this.value,value]);}}
function onKeypress(event){if(!event.charCode){return;}
event.preventDefault();var value=this.value;var start=this.selectionStart;var end=this.selectionEnd;var char=String.fromCharCode(event.charCode);var updated;var range;if(this.setSelectionRange){updated=value.substring(0,start)+char+value.substring(end,value.length);this.value=$.url.slugify(updated,false);this.setSelectionRange(start+1,start+1);}else if(document.selection&&document.selection.createRange){range=document.selection.createRange();range.text=char+range.text;}
$(this).trigger('slugify',[this.value,value]);}
$.fn.slug=function(){return this.each(function(){$(this).on({'blur.slug':onChange,'change.slug':onChange,'keypress.slug':onKeypress});});};$.extend($.fn.slug,{onChange:onChange,onKeypress:onKeypress});})(this.jQuery);