<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Mocha Tests</title>
    <link rel="stylesheet" href="vendor/mocha.css" />
  </head>
  <body>
    <div id="mocha"></div>
    <div id="fixture" style="position: absolute; top: -9999px; left: -9999px"></div>

    <!-- Test Runner -->
    <script src="./vendor/mocha.js"></script>
    <script src="./vendor/sinon.js"></script>
    <script src="./vendor/chai.js"></script>
    <script>
      mocha.setup('bdd');
      var assert = chai.assert;
    </script>

    <!-- Source -->
    <script src="../javascript/vendor/jquery.js"></script>
    <script src="../javascript/plugins/jquery.url-helpers.js"></script>
    <script src="../javascript/plugins/jquery.slug.js"></script>
    <script src="../javascript/plugins/jquery.slug-preview.js"></script>
    <script src="../javascript/sandbox.js"></script>
    <script src="../javascript/module.js"></script>
    <script src="../javascript/pubsub.js"></script>
    <script src="../javascript/i18n.js"></script>

    <!-- Suite -->
    <script src="./spec/plugins/jquery.url-helpers.spec.js"></script>
    <script src="./spec/plugins/jquery.slug.spec.js"></script>
    <script src="./spec/plugins/jquery.slug-preview.spec.js"></script>
    <script src="./spec/sandbox.spec.js"></script>
    <script src="./spec/module.spec.js"></script>

    <script>
      beforeEach(function () {
        this.fixture = jQuery('#fixture').empty();
      });

      after(function () {
        this.fixture.empty();
      });

      mocha.run().globals(['ckan']);
    </script>
  </body>
</html>
