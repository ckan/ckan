{#
Contructs input type=hidden elements for each name-value pair.

fields - [('name1', 'value1'), ('name2', 'value2'), ...]

Two parameter for excluding several names or name-value pairs.

except_names - list of names to be excluded
except       - list of name-value pairs to be excluded


Example:
    {% snippet "snippets/fields_to_hidden.html", fields=c.fields, except=['topic=xyz'] %}
    {% snippet "snippets/fields_to_hidden.html", fields=c.fields, except_names=['time_min', 'time_max'] %}
#}


{% set except_names = except_names or {} %}
{% set except = except or {} %}


{% for name, value in fields %}
  {% if name and value and name not in except_names and (name, value) not in except %}
    <input type="hidden" name="{{ name }}" value="{{ value }}" />
  {% endif %}
{% endfor %}
