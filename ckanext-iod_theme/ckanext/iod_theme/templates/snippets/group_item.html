{% block group_item %}
  <section class="group-list module module-narrow module-shallow">
    {% block group_item_header %}
      <header class="module-heading">
        {% set truncate=truncate or 0 %}
        {% set truncate_title = truncate_title or 0 %}
        {% set title = theme.title or theme.name %}
        {% block group_item_header_image %}
          <a class="module-image" href="{{ h.url_for(controller='group', action='read', id=theme.name) }}">
            <img src="{{ theme.image_display_url or h.url_for_static('/base/images/placeholder-group.png') }}" alt="{{ theme.name }}" />
          </a>
        {% endblock %}
        {% block group_item_header_title %}
          <h3 class="media-heading"><a href="{{ h.url_for(controller='group', action='read', id=group.name) }}">{{ theme.title or theme.name }}</a></h3>
        {% endblock %}
        {% block group_item_header_description %}
          {% if theme.description %}
            {% if truncate == 0 %}
              <p>{{ h.markdown_extract(theme.description)|urlize }}</p>
            {% else %}
              <p>{{ h.markdown_extract(theme.description, truncate)|urlize }}</p>
            {% endif %}
          {% endif %}
        {% endblock %}
      </header>
    {% endblock %}
    {% block group_item_content %}
      {% set list_class = "unstyled dataset-list" %}
      {% set item_class = "dataset-item module-content" %}
      {% snippet 'snippets/package_list.html', packages=theme.packages, list_class=list_class, item_class=item_class, truncate=120 %}
    {% endblock %}
  </section>
{% endblock %}
